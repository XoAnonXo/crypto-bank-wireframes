<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Crypto Bank</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="phone-container">
        <!-- Status Bar -->
        <div class="status-bar">
            <div class="time">9:41</div>
            <div class="status-icons">
                <span>📶</span>
                <span>📡</span>
                <span>🔋</span>
            </div>
        </div>

        <!-- Header -->
        <div class="header" style="display: flex; justify-content: space-between; align-items: center;">
            <div style="display: flex; align-items: center; gap: 8px;">
                <div style="width: 32px; height: 32px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 12px; font-weight: 700; cursor: pointer;" onclick="openAccountMenu()">
                    0x
                </div>
                <div class="header-icon" onclick="window.location.href='notifications.html'">🔔</div>
            </div>
            <h1 style="position: absolute; left: 50%; transform: translateX(-50%);" id="headerTitle">Vault</h1>
            <div class="header-icon" onclick="window.location.href='statistics.html'">📊</div>
        </div>

        <!-- Content -->
        <div class="content" style="position: relative; overflow-x: hidden; overflow-y: auto;">
            <!-- Swipeable Container -->
            <div id="swipeContainer" style="display: flex; transition: transform 0.3s ease; width: 200%; min-height: 100%;">
                <!-- Vault / Borrow Mode (Screen 1 - Default) -->
                <div style="width: 50%; flex-shrink: 0;">
                    <!-- Total Balance Card -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Vault Balance</div>
                        </div>
                        <div class="balance">$45,892.34</div>
                        <div style="font-size: 14px; color: #10b981; margin-top: 8px;">
                            420.69 MIM yielded in last 24h
                        </div>
                        
                        <div class="button-group">
                            <button class="btn btn-primary" onclick="window.location.href='loans.html'">Borrow</button>
                            <button class="btn btn-secondary" onclick="window.location.href='add-funds.html'">Pay</button>
                            <button class="btn btn-secondary" onclick="window.location.href='earn.html'">Yield</button>
                        </div>
                    </div>

                    <!-- Card Display -->
            <div class="card" style="padding: 0; overflow: hidden;">
                <div style="padding: 20px 20px 16px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                        <div style="font-size: 14px; font-weight: 600; color: #1a1a1a;">Your Card</div>
                        <a href="cards.html" style="font-size: 14px; color: #667eea; text-decoration: none; font-weight: 600;">Manage →</a>
                    </div>
                </div>
                
                <!-- Swipeable Card -->
                <div style="perspective: 1000px; padding: 0 20px 20px;">
                    <div style="background: linear-gradient(135deg, #1e293b 0%, #334155 100%); border-radius: 16px; padding: 20px; box-shadow: 0 12px 24px rgba(0,0,0,0.2); position: relative; overflow: hidden;">
                        <div style="position: absolute; top: -50%; right: -20%; width: 200px; height: 200px; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%); border-radius: 50%;"></div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 32px;">
                            <div style="color: white; font-size: 13px; font-weight: 600;">Crypto Bank</div>
                            <div style="color: white; font-size: 11px;">💳 Virtual</div>
                        </div>
                        
                        <div style="color: white; font-family: 'Courier New', monospace; font-size: 16px; letter-spacing: 2px; margin-bottom: 16px;">
                            •••• •••• •••• 4892
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: end;">
                            <div>
                                <div style="color: rgba(255,255,255,0.6); font-size: 9px; margin-bottom: 4px;">CARDHOLDER</div>
                                <div style="color: white; font-size: 12px; font-weight: 600;">JOHN DOE</div>
                            </div>
                            <div>
                                <div style="color: rgba(255,255,255,0.6); font-size: 9px; margin-bottom: 4px;">EXPIRES</div>
                                <div style="color: white; font-size: 12px; font-weight: 600;">12/27</div>
                            </div>
                            <div style="color: white; font-size: 20px; font-weight: 700;">VISA</div>
                        </div>
                    </div>
                </div>
                
                <!-- Swipe Indicator -->
                <div style="display: flex; gap: 6px; justify-content: center; padding-bottom: 16px;">
                    <div style="width: 20px; height: 4px; background: #667eea; border-radius: 2px;"></div>
                    <div style="width: 4px; height: 4px; background: #e0e0e0; border-radius: 50%;"></div>
                    <div style="width: 4px; height: 4px; background: #e0e0e0; border-radius: 50%;"></div>
                </div>
            </div>

                    <!-- Assets Summary -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Assets</div>
                    <a href="approve-spending.html" style="color: #667eea; font-size: 14px; text-decoration: none; font-weight: 600;">View more →</a>
                </div>

                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-top: 16px;">
                    <!-- liquidUSD -->
                    <div style="text-align: center;">
                        <div style="width: 56px; height: 56px; background: #667eea; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; font-weight: 700; margin: 0 auto 8px;">$</div>
                        <div style="font-size: 12px; font-weight: 600; color: #1a1a1a; margin-bottom: 4px;">USD</div>
                        <div style="font-size: 13px; font-weight: 600; color: #1a1a1a;">$12,450</div>
                    </div>

                    <!-- Ethereum -->
                    <div style="text-align: center;">
                        <div style="width: 56px; height: 56px; background: #627eea; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; font-weight: 700; margin: 0 auto 8px;">Ξ</div>
                        <div style="font-size: 12px; font-weight: 600; color: #1a1a1a; margin-bottom: 4px;">ETH</div>
                        <div style="font-size: 13px; font-weight: 600; color: #1a1a1a;">$21,334</div>
                    </div>

                    <!-- Bitcoin -->
                    <div style="text-align: center;">
                        <div style="width: 56px; height: 56px; background: #f7931a; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; font-weight: 700; margin: 0 auto 8px;">₿</div>
                        <div style="font-size: 12px; font-weight: 600; color: #1a1a1a; margin-bottom: 4px;">BTC</div>
                        <div style="font-size: 13px; font-weight: 600; color: #1a1a1a;">$10,108</div>
                    </div>
                </div>
            </div>

                    <!-- Transactions -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Recent Transactions</div>
                    <a href="transactions.html" style="color: #667eea; font-size: 14px; text-decoration: none; font-weight: 600;">All →</a>
                </div>

                <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #f0f0f0;">
                    <div style="display: flex; gap: 12px;">
                        <div style="width: 36px; height: 36px; background: #f0fdf4; border-radius: 8px; display: flex; align-items: center; justify-content: center;">📥</div>
                        <div>
                            <div style="font-size: 14px; font-weight: 600;">Deposit</div>
                            <div style="font-size: 12px; color: #666;">Today, 10:15 AM</div>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 14px; font-weight: 600; color: #10b981;">+$5,000</div>
                        <div style="font-size: 12px; color: #666;">USDC</div>
                    </div>
                </div>

                <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #f0f0f0;">
                    <div style="display: flex; gap: 12px;">
                        <div style="width: 36px; height: 36px; background: #fef3c7; border-radius: 8px; display: flex; align-items: center; justify-content: center;">☕</div>
                        <div>
                            <div style="font-size: 14px; font-weight: 600;">Starbucks</div>
                            <div style="font-size: 12px; color: #666;">Today, 9:15 AM</div>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 14px; font-weight: 600; color: #ef4444;">-$6.75</div>
                        <div style="font-size: 12px; color: #10b981;">+0.1 pts</div>
                    </div>
                </div>

                <div style="display: flex; justify-content: space-between; padding: 12px 0;">
                    <div style="display: flex; gap: 12px;">
                        <div style="width: 36px; height: 36px; background: #f0f7ff; border-radius: 8px; display: flex; align-items: center; justify-content: center;">⛽</div>
                        <div>
                            <div style="font-size: 14px; font-weight: 600;">Gas Station</div>
                            <div style="font-size: 12px; color: #666;">Yesterday</div>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 14px; font-weight: 600; color: #ef4444;">-$45.00</div>
                        <div style="font-size: 12px; color: #10b981;">+0.9 pts</div>
                    </div>
                </div>
            </div>

                    <!-- Support Section -->
            <div style="font-size: 16px; font-weight: 600; margin: 24px 0 12px 4px;">Help & Support</div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 80px;">
                <div class="card" style="text-align: center; padding: 20px; cursor: pointer;">
                    <div style="font-size: 32px; margin-bottom: 8px;">💬</div>
                    <div style="font-size: 14px; font-weight: 600;">Support</div>
                </div>
                
                <div class="card" style="text-align: center; padding: 20px; cursor: pointer;">
                    <div style="font-size: 32px; margin-bottom: 8px;">❓</div>
                    <div style="font-size: 14px; font-weight: 600;">FAQ</div>
                </div>
            </div>

                    <button class="btn-full" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); margin-bottom: 20px;">
                        🤖 Ask AI
                    </button>
                </div>

                <!-- Approved / Direct Spending Mode (Screen 2) -->
                <div style="width: 50%; flex-shrink: 0; padding-left: 20px;">
                    <!-- Total Balance Card -->
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Approved Balance</div>
                        </div>
                        <div class="balance">$45,892.34</div>
                        <div style="font-size: 14px; color: #667eea; margin-top: 8px;">
                            Direct Spending Active
                        </div>
                        
                        <div class="button-group">
                            <button class="btn btn-primary" onclick="window.location.href='approve-spending.html'">Manage Funds</button>
                            <button class="btn btn-secondary" onclick="window.location.href='add-funds.html'">Pay</button>
                            <button class="btn btn-secondary" onclick="window.location.href='earn.html'">Yield</button>
                        </div>
                    </div>

                    <!-- Card Display (same as screen 1) -->
                    <div class="card" style="padding: 0; overflow: hidden;">
                        <div style="padding: 20px 20px 16px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                <div style="font-size: 14px; font-weight: 600; color: #1a1a1a;">Your Card</div>
                                <a href="cards.html" style="font-size: 14px; color: #667eea; text-decoration: none; font-weight: 600;">Manage →</a>
                            </div>
                        </div>
                        
                        <div style="perspective: 1000px; padding: 0 20px 20px;">
                            <div style="background: linear-gradient(135deg, #1e293b 0%, #334155 100%); border-radius: 16px; padding: 20px; box-shadow: 0 12px 24px rgba(0,0,0,0.2); position: relative; overflow: hidden;">
                                <div style="position: absolute; top: -50%; right: -20%; width: 200px; height: 200px; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%); border-radius: 50%;"></div>
                                
                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 32px;">
                                    <div style="color: white; font-size: 13px; font-weight: 600;">Crypto Bank</div>
                                    <div style="color: white; font-size: 11px;">💳 Virtual</div>
                                </div>
                                
                                <div style="color: white; font-family: 'Courier New', monospace; font-size: 16px; letter-spacing: 2px; margin-bottom: 16px;">
                                    •••• •••• •••• 4892
                                </div>
                                
                                <div style="display: flex; justify-content: space-between; align-items: end;">
                                    <div>
                                        <div style="color: rgba(255,255,255,0.6); font-size: 9px; margin-bottom: 4px;">CARDHOLDER</div>
                                        <div style="color: white; font-size: 12px; font-weight: 600;">JOHN DOE</div>
                                    </div>
                                    <div>
                                        <div style="color: rgba(255,255,255,0.6); font-size: 9px; margin-bottom: 4px;">EXPIRES</div>
                                        <div style="color: white; font-size: 12px; font-weight: 600;">12/27</div>
                                    </div>
                                    <div style="color: white; font-size: 20px; font-weight: 700;">VISA</div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 6px; justify-content: center; padding-bottom: 16px;">
                            <div style="width: 20px; height: 4px; background: #667eea; border-radius: 2px;"></div>
                            <div style="width: 4px; height: 4px; background: #e0e0e0; border-radius: 50%;"></div>
                            <div style="width: 4px; height: 4px; background: #e0e0e0; border-radius: 50%;"></div>
                        </div>
                    </div>

                    <!-- Rest of content same as screen 1 -->
                    <div style="font-size: 16px; font-weight: 600; margin: 20px 0 12px 4px; color: #667eea;">Direct Spending Active</div>
                    
                    <div style="background: #f0f7ff; border-left: 4px solid #667eea; padding: 16px; border-radius: 12px; margin-bottom: 100px;">
                        <div style="font-size: 13px; font-weight: 600; margin-bottom: 4px; color: #1e40af;">💳 Direct Spending Mode</div>
                        <div style="font-size: 12px; color: #1e40af; line-height: 1.5;">
                            Spend directly from your approved balance. Your approved tokens are available for card purchases. Swipe right to return to Vault mode.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mode Indicator Dots -->
            <div style="display: flex; gap: 8px; justify-content: center; padding: 16px 0; margin-bottom: 80px;">
                <div id="dot0" style="width: 24px; height: 8px; background: #f59e0b; border-radius: 4px; transition: all 0.3s; cursor: pointer;"></div>
                <div id="dot1" style="width: 8px; height: 8px; background: #e0e0e0; border-radius: 50%; transition: all 0.3s; cursor: pointer;"></div>
            </div>
        </div>

        <!-- Floating Bottom Navigation -->
        <div style="position: absolute; bottom: 20px; left: 20px; right: 20px; background: rgba(26, 26, 26, 0.95); backdrop-filter: blur(10px); border-radius: 24px; padding: 12px 8px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); display: flex; justify-content: space-around; align-items: center; z-index: 100;">
            <div style="display: flex; flex-direction: column; align-items: center; gap: 4px; cursor: pointer; color: #fff;" onclick="window.location.href='dashboard.html'">
                <div style="font-size: 22px;">🏠</div>
                <div style="font-size: 10px; font-weight: 600;">Home</div>
            </div>
            <div style="display: flex; flex-direction: column; align-items: center; gap: 4px; cursor: pointer; color: #999;" onclick="window.location.href='loans.html'">
                <div style="font-size: 22px;">🏦</div>
                <div style="font-size: 10px; font-weight: 500;">Loans</div>
            </div>
            <div style="display: flex; flex-direction: column; align-items: center; gap: 4px; cursor: pointer; color: #999;" onclick="window.location.href='transactions.html'">
                <div style="font-size: 22px;">📊</div>
                <div style="font-size: 10px; font-weight: 500;">Activity</div>
            </div>
            <div style="display: flex; flex-direction: column; align-items: center; gap: 4px; cursor: pointer; color: #999;" onclick="window.location.href='earn.html'">
                <div style="font-size: 22px;">💰</div>
                <div style="font-size: 10px; font-weight: 500;">Earn</div>
            </div>
            <div style="display: flex; flex-direction: column; align-items: center; gap: 4px; cursor: pointer; color: #999;" onclick="window.location.href='menu.html'">
                <div style="font-size: 22px;">⋮⋮</div>
                <div style="font-size: 10px; font-weight: 500;">More</div>
            </div>
            <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 4px 12px rgba(168, 85, 247, 0.4);">
                <div style="font-size: 24px;">🛒</div>
            </div>
        </div>

        <!-- Account Bottom Sheet Menu -->
        <div id="accountMenu" style="position: absolute; bottom: 0; left: 0; right: 0; background: white; border-radius: 24px 24px 0 0; padding: 24px 20px; box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.2); transform: translateY(100%); transition: transform 0.3s ease; z-index: 200;">
            <div style="width: 40px; height: 4px; background: #e0e0e0; border-radius: 2px; margin: 0 auto 24px;"></div>
            
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 24px; padding-bottom: 20px; border-bottom: 1px solid #f0f0f0;">
                <div style="width: 56px; height: 56px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; font-weight: 700;">
                    0x
                </div>
                <div>
                    <div style="font-size: 16px; font-weight: 700; margin-bottom: 4px;">John Doe</div>
                    <div style="font-size: 13px; color: #666; font-family: monospace;">0x742d...3a91</div>
                </div>
            </div>

            <div class="list-item" onclick="window.location.href='settings.html'" style="margin-bottom: 8px;">
                <div style="width: 40px; height: 40px; background: #f0f7ff; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px;">👤</div>
                <div style="flex: 1;">
                    <div style="font-size: 15px; font-weight: 600;">Personal Info</div>
                </div>
                <div>→</div>
            </div>

            <div class="list-item" onclick="window.location.href='settings.html'" style="margin-bottom: 8px;">
                <div style="width: 40px; height: 40px; background: #f0f7ff; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px;">⚙️</div>
                <div style="flex: 1;">
                    <div style="font-size: 15px; font-weight: 600;">Settings</div>
                </div>
                <div>→</div>
            </div>

            <div class="list-item" style="margin-bottom: 8px;">
                <div style="width: 40px; height: 40px; background: #f0fdf4; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px;">➕</div>
                <div style="flex: 1;">
                    <div style="font-size: 15px; font-weight: 600;">Add Another Account</div>
                </div>
                <div>→</div>
            </div>

            <div class="list-item" style="border-top: 1px solid #f0f0f0; padding-top: 16px; margin-top: 16px; background: #fef2f2;">
                <div style="width: 40px; height: 40px; background: #fee2e2; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px;">🚪</div>
                <div style="flex: 1;">
                    <div style="font-size: 15px; font-weight: 600; color: #ef4444;">Log Out</div>
                </div>
            </div>

            <button class="btn btn-secondary" style="width: 100%; margin-top: 16px;" onclick="closeAccountMenu()">
                Close
            </button>
        </div>

        <!-- Overlay for menu -->
        <div id="menuOverlay" style="display: none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.5); z-index: 150; opacity: 0; transition: opacity 0.3s ease;" onclick="closeAccountMenu()"></div>
    </div>

    <script>
        let currentMode = 0; // 0 = Direct Spending, 1 = Borrow Mode
        let touchStartX = 0;
        let touchEndX = 0;

        function openAccountMenu() {
            const menu = document.getElementById('accountMenu');
            const overlay = document.getElementById('menuOverlay');
            menu.style.transform = 'translateY(0)';
            overlay.style.display = 'block';
            setTimeout(() => {
                overlay.style.opacity = '1';
            }, 10);
        }

        function closeAccountMenu() {
            const menu = document.getElementById('accountMenu');
            const overlay = document.getElementById('menuOverlay');
            menu.style.transform = 'translateY(100%)';
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.style.display = 'none';
            }, 300);
        }

        function switchMode(mode) {
            currentMode = mode;
            const container = document.getElementById('swipeContainer');
            const headerTitle = document.getElementById('headerTitle');
            const dot0 = document.getElementById('dot0');
            const dot1 = document.getElementById('dot1');
            
            if (mode === 0) {
                // Vault Mode (Default/First screen)
                container.style.transform = 'translateX(0)';
                headerTitle.textContent = 'Vault';
                dot0.style.background = '#f59e0b';
                dot0.style.width = '24px';
                dot0.style.borderRadius = '4px';
                dot1.style.background = '#e0e0e0';
                dot1.style.width = '8px';
                dot1.style.borderRadius = '50%';
            } else {
                // Approved Mode (Second screen)
                container.style.transform = 'translateX(-50%)';
                headerTitle.textContent = 'Approved';
                dot1.style.background = '#667eea';
                dot1.style.width = '24px';
                dot1.style.borderRadius = '4px';
                dot0.style.background = '#e0e0e0';
                dot0.style.width = '8px';
                dot0.style.borderRadius = '50%';
            }
        }

        // Swipe detection
        let touchStartY = 0;
        let touchEndY = 0;
        
        const content = document.querySelector('.content');
        
        content.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
            touchStartY = e.changedTouches[0].screenY;
        }, { passive: true });

        content.addEventListener('touchmove', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            touchEndY = e.changedTouches[0].screenY;
        }, { passive: true });

        content.addEventListener('touchend', (e) => {
            handleSwipe();
        });

        function handleSwipe() {
            const deltaX = Math.abs(touchStartX - touchEndX);
            const deltaY = Math.abs(touchStartY - touchEndY);
            
            // Only trigger horizontal swipe if horizontal movement is greater than vertical
            if (deltaX > deltaY && deltaX > 50) {
                if (touchStartX - touchEndX > 50) {
                    // Swipe left - go to Approved Mode
                    switchMode(1);
                } else if (touchEndX - touchStartX > 50) {
                    // Swipe right - go to Vault Mode
                    switchMode(0);
                }
            }
        }

        // Click dots to switch
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('dot0').addEventListener('click', () => switchMode(0));
            document.getElementById('dot1').addEventListener('click', () => switchMode(1));
        });
    </script>
</body>
</html>


